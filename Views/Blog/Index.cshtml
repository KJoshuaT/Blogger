@model IEnumerable<Blogger.Models.Blog>

@{
    ViewData["Title"] = "Index";
}

<h1>Blogger</h1>

<p>
    <a asp-action="Create" class="btn btn-primary mb-4">Create New</a>
</p>

<div class="container">
    <div class="row">
        @foreach (var item in Model)
        {
            <div class="col-md-4 mb-4">
                <a asp-action="Details" asp-route-id="@item.Id" class="blog-post border-0 p-0 clickable-blog">
                
                    @if (!string.IsNullOrEmpty(item.ImagePath))
                    {
                        <img src="@item.ImagePath" alt="Blog Image" class="img-fluid mb-3 landscape-image"
                             style="width: 100%; height: 200px; object-fit: cover;"/>
                    }
                    <p class="text-muted">@item.PublishedDate.ToString("MM.dd.yyyy")</p>
                    <h2 style=" text-overflow: ellipsis; overflow: hidden; white-space: nowrap; width: 100%;" >@item.Title</h2>
                    <p style="text-overflow: ellipsis; overflow: hidden; white-space: nowrap; width: 80%;">@item.Content</p>
                </a>
            </div>
        }
    </div>
</div>

@section Styles {
    <style>
        .blog-post {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            width: 400px;
            height: 330px;
            overflow: hidden;
        }
        .landscape-image {
            width: 100%;
            height: auto;
            object-fit: cover;
            aspect-ratio: 4 / 3; 
        }
        .blog-post h2 {
            font-size: 1.5rem;
            text-align: center;
        }
        .blog-post p {
            font-size: 1rem;
        }
        
        .blog-post:hover {
            background-color: #f9f9f9;
            
        }
        
        .clickable-blog {
            text-decoration: none; 
            color: inherit; 
        }

        .clickable-blog:hover {
            color: inherit; 
            cursor: pointer;
        }
            
    </style>
}